<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <title>D3.js</title>
  <style>
    .bar_chart {
      fill: steelblue;
    }
    .bar_chart:hover {
      fill: orange;
    }
  </style>
</head>

<body>
    <div>
      <h1>Ansiedad</h1>
      <svg width="1400" height="1000">Su navegador no puede visualizar la gr√°fica</svg>
    </div>
</body>

<footer>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/d3/5.11.0/d3.min.js"></script>
    <script>
    d3.json('https://tahichemena.github.io/curso_frontend_2019/graficas/data/stats_01.json')
      .then( (response) => {
          let svg = d3.select('svg');
          let g = svg.selectAll("g")
                     .data(response.data)
                     .enter().append("g")
                     .sort( (a,b) => {
                         return b.ansiedad - a.ansiedad;
                     });
              g.append("rect")
               .attr("height", 30)
               .attr("width", (d) => {
                   return d.ansiedad * 100;
               })
               .attr("fill", "steelblue")
               .attr("fill-opacity", 0.6)
               .attr("transform", function(d,i) {
                   return "translate("+ 10 +"," + (50*i + 50) + ")";
               });
               
               g.append("text")
                .text( (d) => {
                    return d.momento;
                })
                .attr("font-size", 13)
                .attr("transform", function(d,i) {
                   return "translate("+ 0 +"," + (50*i + 75) + ")";
               });

            }
    );
  </script>
</footer>

</html>
                    